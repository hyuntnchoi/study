블루투스는 어떻게 작동하는가?

목차:
1. Bluetooth Connections
2. How Bluetooth Technology Operates
3. Bluetooth Range
4. Bluetooth Security

본문:
1. Bluetooth Connections
wifi와는 다르게 기계끼리 다이렉트로 통신하는데, 이로 인해 편리하게 생애 주기를 관리할 수 있고 전력 사용을 극도로 낮게 유지하고 배터리 효율을 높인다.

블루투스 기계들은 2.400GHz~2.483.5GHz 사이의 주파수에서 저전력 무선 전파(radio waves)를 사용해 통신한다.

블루투스 기계들과 다른 무선 통신 기술들이 서로 방해하지 않는 것은 필수이다.

2개 타입의 블루투스 기술이 있다. 
- Bluetooth Low Energy(BLE)
- Bluetooth Classic(공식적으로 Bluetooth Basic Rate/Enhanced Data Rate 또는 BR/EDR이라고 알려진)

둘 다 같은 주파수 대역을 사용하지만 BLE가 더 널리 쓰이는 옵션이다. 훨씬 적은 에너지가 사용되고 방송 또는 메쉬 네트워크에 사용된다. 또한, 두 기계 간의 점대점 연결 통신을 허용한다.
classic Bluetooth 기술은 BLE보다 약간 높은 데이터 전송률을 보여주지만(3Mbs vs 1~2Mbs) 두 기계간의 점대점 연결을 사용한 다이렉트 통신으로만 사용될 수 있다.

* 왜 블루투스라 불리는가?
10세기 후반 덴마크의 왕 이름: Harald Bluetooth

2. How Bluetooth Technology Operates
Bluetoth BR/EDR 장치들은 반드시 항상 페어를 이루어야 한다. 이런 절차는 두 장치 각각이 서로를 신뢰할 수 있게하고 암호화를 이용한 보안 속에서 데이터의 교환이 이루어 질 수 있다.

블루투스 BR/EDR 장치들이 한 장치의 범위 안으로 들어오면, 서로가 신뢰하는지와 공유할 데이터가 있는지 결정하기 위한 전기적 대화를 한다. 사용자는 대게 버튼을 누르거나 명령을 줄 필요가 없다. (전기적 대화가 자동으로 발생한다) 대화가 발생하면, 장치들은, 컴퓨터 시스템의 일부이던 스테레오이든, 네트워크를 형성한다.

BLE는 다르게 동작한다. 장치들은 아마 장치 간의 신뢰 관계를 형성하기 위해 페어를 이룰 것이다. 그렇지만 모든 타입의 장치가 이 사항을 필요로 하지는 않는다. 감지되기를 원하는 BLE 장치는 advertising이라 불리는 과정에서 특별한 메시지들(packets)을 송출한다. Advertising 패킷들은 자신을 알리는 장치들에 대한 유용한 정보들을 포함한다. 또다른 알맞은 장치는 패킷 스캔을 통해 자신을 알리는 장치를 발견할 것이고 패킷들을 선택할 것이다. 보통 사용자가 버튼을 누르는 등의 트리거가 있을 때만 스캔을 한다. 그러면 사용자는 발견된 장치들의 상세를 보게 되고 연결을 위해 선택한다.

중앙장치에 연결된 블루투스 주변장치(스마트워치 같은)는 PAN(personal-area network) 또는 전체 건물 또는 장거리를 아우르는 피코네트(piconet)를 형성한다. 피코네트가 형성되면, 그 멤버들은 WiFi 같은 다른 무선 기술들을 사용하는 장치나 같은 방 안에서 구동되는 블루투스 피코네트를 방해하지 않으면서 같은 대역의 무선 주파수를 넘나들며 상대 장치와의 연결을 유지한다. 블루투스 기술은 어떤 무선 채널이 잘 작동하고 어떤 채널이 방해를 받는지 배우며 나쁜 채널을 다이나믹하게 피하고 방해로부터 자유로운 채널들을 사용한다. adaptive frequency hopping이라 불리는 이 절차는 블루투스 장치들을 보통의 환경 뿐 아니라 아주 많은 수의 무선 장치들이 작동하는 환경에서도 잘 작동하도록 돕는다.

3. Bluetooth Range

대게 블루투스가 단거리 범위의 기술이라 생각하는데, 1km가 넘게 떨어진 장치들을 연결할 수도 있다. 사실, 무선 헤드폰 같은 많은 장치들은 매우 짧은 장비간의 통신 범위를 요구한다. 하지만 블루투스 기술이 유연하기 때문에 애플리케이션의 요구에 맞게 설정이 가능하다. 제조사는 배터리 수명 최대화와 신호 품질을 유지하면서도 요구되는 통신 범위를 얻기 위해 장치의 블루투스 세팅을 조정할 수 있다.

몇몇 요소들이 블루투스 장치 범위에 영향을 미친다:
- Radio spectrum: 블루투스 기술의 주파수 대역이 무선 통신을 위해 중요하다
- Physical layer(PHY): 다음과 같은 주요 측면들을 정의한다 -> 어떻게 전파가 데이터의 송수신에 사용되는지, 어떻게 에러 검출과 수정이 수행되는지, 방해 방지, 다른 범위 별 신호의 선명함에 영향을 주는 다른 기술들 
- Receiver sensitivity: 수신기가 데이터를 받고 해독할 수 있을 정도의 최소 신호 세기의 정도
- Transmission power: 전송되는 신호 세기가 강할수로 범위가 더 길어지지만 전송 전력의 증가는 배터리의 수명에 영향을 미친다
- Antenna gain: 기본적으로, 트랜스미터의 전기적 신호를 무선 전파로 변환시키고 끝단에서 받을 때 다시 변환시킨다
- Path loss: 거리, 습도, 경로 간 중간 차단 개체

가장 최근의 블루투스 기술 업데이트가 송신 민감도(receiver sensitivity)를 향상시키는 forward error correction(FEC)라 불리는 기술을 선보였다. FEC는 송신 단에서 데이터 에러를 고치고 추가 트랜스미션의 사용 없이 장치의 실질적 범위를 4배 이상 향상시킨다. 이것이 뜻하는 바는 장치가 트랜스미터로부터 훨씬 먼 거리에 있거나 신호 세기가 아주 약하더라도 데이터를 성공적으로 받을 수 있다는 것이다.

4. Bluetooth Security

블루투스 기술은 Federal Information Processing Standards(FIPS)에 포함된 것들과 같은 아주 엄격한 보안 요구사항을 만족시키는 몇몇 보안 장치를 포함한다.

새로운 장치를 설정할 때, 사용자는 보통 페어링이라 불리는 절차를 수행한다. 페어링은 각 장치에 특별 보안 키들을 갖추고 장치들이 서로 신뢰할 수 있도록 한다. 페어링이 필요한 장치는 한번도 페어링 된 적 없는 또다른 장치와는 연결하지 않을 것이다.

이런 보안 키들은 블루투스 기술이 데이터와 사용자를 보호하도록 한다. 예를 들면, 장치 간에 교환된 데이터는 암호화되어 다른 장치들이 읽지 못하도록 한다. 또한 장치의 ID이자 무선 데이터 교환 시 포함되는 주소값을 2~3분 간격으로 ㅇ 위장시키고 변화시킨다. 이럼으로써 사용자를 그들의 개인 전자 장비에 의해 전송된 데이터를 사용하여 추적당하는 위험으로부터 보호한다.

장치 제조사가 하나의 장비로만 연결되도록 제한하여 보안을 높임. 몇몇 제조사들은 다수의 컴퓨터나 태블릿 또는 폰을 장치와 페어링하도록 해주지만 한 번의 연결 시도 시 하나의 연결만 허용할 것이다.

어떤 장비들은 보안 목적으로 페어링 시에 코드(code)를 요구한다. 예를 들면, 핸즈프리 폰 시스템을 자동차에서 사용할 때 폰에서 어떤 번호들을 입력하라고 주면 해당 번호를 자동차 디스플레이에서 입력을 하여 컨펌받는다.

사용자는 또한 블루투스를 끄거나 보이지 않도록 설정해서 보안을 지킨다.